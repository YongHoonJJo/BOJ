#include <stdio.h>

int r, c;
int g[502][502];
int di[19][4]={
	{0, 0, 0, 0}, {0, 1, 2, 3},
	{0, 0, 1, 1},
	{0, 1, 2, 2}, {0, 0, 0, 1}, {0, 0, 0, -1}, {0, 0, 1, 2},
	{0, 1, 2, 2}, {0, 1, 1, 1}, {0, 0, 0, 1}, {0, 0, 1, 2},
	{0, 1, 1, 2}, {0, 0, 1, 1},
	{0, 1, -1, 0}, {0, 0, 1, 1},
	{0, 0, 0, -1}, {0, 1, 2, 1}, {0, 0, 0, 1}, {0, 1, 2, 1}
};

int dj[19][4]={
	{0, 1, 2, 3}, {0, 0, 0, 0},
	{0, 1, 0, 1},
	{0, 0, 0, 1}, {0, 1, 2, 0}, {0, 1, 2, 2}, {0, 1, 1, 1},
	{0, 0, 0, -1}, {0, 0, 1, 2}, {0, 1, 2, 2}, {0, 1, 0, 0},
	{0, 0, 1, 1}, {0, 1, -1, 0}, 
	{0, 0, 1, 1}, {0, 1, 1, 2},
	{0, 1, 2, 1}, {0, 0, 0, 1}, {0, 1, 2, 1}, {0, 0, 0, -1}
};

int safe(int i, int j)
{
	return (0 <= i && i < r) && (0 <= j && j < c);
}

int main()
{
	int ans=0;
	int i, j, y, x;
	scanf("%d%d", &r, &c);

	for(i=0; i<r; i++)
		for(j=0; j<c; j++)
			scanf("%d", &g[i][j]);
	
	for(i=0; i<r; i++) {
		for(j=0; j<c; j++) {
			for(y=0; y<19; y++) {
				int tmp = 0;
				for(x=0; x<4; x++) {
					int nI = i+di[y][x];
					int nJ = j+dj[y][x];
					tmp += (safe(nI, nJ) ? g[nI][nJ] : -100000000);
				}
				if(ans < tmp)
					ans = tmp;
			}
		}
	}
	printf("%d\n", ans);
	return 0;
}
